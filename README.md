# YouTube RSS Monitor & AI Summarizer

é€™æ˜¯ä¸€å€‹è‡ªå‹•åŒ–çš„ YouTube é »é“ç›£æ§èˆ‡ç¸½çµå·¥å…·ã€‚å®ƒæœƒå®šæœŸæª¢æŸ¥æŒ‡å®šé »é“çš„æœ€æ–°å½±ç‰‡ï¼Œä¸¦**è‡ªå‹•æŠ“å–é€å­—ç¨¿ (Transcript) é€²è¡Œ AI é‡é»æ‘˜è¦**ã€‚

## åŠŸèƒ½

- ğŸ“¡ **è‡ªå‹•ç›£æ§**ï¼šå®šæœŸï¼ˆé è¨­æ¯å¤©æ—©ä¸Š 9:00ï¼‰æª¢æŸ¥æŒ‡å®š YouTube é »é“çš„æ›´æ–°ã€‚
- ğŸ“ **è¨˜éŒ„ä¿å­˜**ï¼šæ–°å½±ç‰‡æœƒè‡ªå‹•è¢«è¨˜éŒ„åˆ° `new_videos.txt` (è¦†è“‹æ¨¡å¼ï¼Œåªä¿ç•™æœ€æ–°ä¸€æ‰¹)ã€‚
- ğŸ¤– **AI è‡ªå‹•æ‘˜è¦**ï¼šé‡å°æ–°ç™¼ç¾çš„å½±ç‰‡ï¼Œè‡ªå‹•æŠ“å–å­—å¹•ä¸¦å‘¼å« LLM é€²è¡Œæ·±åº¦åˆ†æèˆ‡ç¸½çµã€‚
- ğŸ’¾ **ç‹€æ…‹è¿½è¹¤**ï¼šä½¿ç”¨ `monitor_state.json` è¨˜éŒ„ä¸Šæ¬¡æª¢æŸ¥çš„ç‹€æ…‹ï¼Œé¿å…é‡è¤‡é€šçŸ¥ã€‚
- ğŸ•°ï¸ **å½ˆæ€§æ’ç¨‹**ï¼šåŸºæ–¼ `APScheduler`ï¼Œæ”¯æ´ Cron æˆ–é–“éš”ï¼ˆIntervalï¼‰è§¸ç™¼ã€‚
- ğŸš€ **èƒŒæ™¯åŸ·è¡Œ**ï¼šæä¾›è…³æœ¬æ”¯æ´èƒŒæ™¯é•·é§åŸ·è¡Œã€‚

## å®‰è£èˆ‡è¨­å®š

æœ¬å°ˆæ¡ˆä½¿ç”¨ `uv` é€²è¡Œä¾è³´ç®¡ç†ã€‚

### 1. åˆå§‹åŒ–ç’°å¢ƒ
```bash
# å¦‚æœå°šæœªå®‰è£ uv
pip install uv

# å®‰è£ä¾è³´ (åŒ…å« openai, youtube-transcript-api)
uv sync
```

### 2. è¨­å®š AI æ¨¡å‹ (.env)
åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„å»ºç«‹ `.env` æª”æ¡ˆï¼Œè¨­å®š AI æ¨¡å‹é€£ç·šè³‡è¨Šï¼ˆæ”¯æ´ OpenAI æˆ–å…¼å®¹å”è­°çš„ Local AIï¼‰ï¼š

```bash
cp .env.example .env
```

ç·¨è¼¯ `.env`ï¼š
```env
LLM_API_KEY=sk-xxxxxxx
LLM_BASE_URL=http://localhost:1234/v1  # æˆ– https://api.openai.com/v1
LLM_MODEL=gpt-4o  # æŒ‡å®šæ¨¡å‹åç¨±ï¼Œé è¨­ gpt-4o
```
> è‹¥æœªè¨­å®šï¼Œç³»çµ±åƒ…æœƒè¨˜éŒ„æ–°å½±ç‰‡ï¼Œè·³éæ‘˜è¦æ­¥é©Ÿã€‚

### 3. è¨­å®šé »é“
ç·¨è¼¯ `tasks/monitor_task.py` ä¸­çš„ `CHANNELS` åˆ—è¡¨ï¼ŒåŠ å…¥ä½ æƒ³ç›£æ§çš„ YouTube é »é“ URLï¼š

```python
CHANNELS = [
    "https://www.youtube.com/@LennysPodcast",
    "https://www.youtube.com/@googleantigravity",
    # ... åŠ å…¥æ›´å¤š
]
```

### 4. è¨­å®šæ’ç¨‹
ç·¨è¼¯ `schedule_config.yaml` èª¿æ•´æª¢æŸ¥é »ç‡ï¼ˆé è¨­æ¯å¤© 09:00ï¼‰ï¼š

```yaml
jobs:
  - id: check_youtube_updates
    func: tasks.monitor_task:check_updates
    trigger: cron
    hour: 9
    minute: 0
```

## ä½¿ç”¨æ–¹æ³•

### å‰æ™¯æ¸¬è©¦ (å–®æ¬¡)
ç›´æ¥åŸ·è¡Œä»»å‹™è…³æœ¬ä¾†æ¸¬è©¦é‚è¼¯èˆ‡ AI é€£ç·šæ˜¯å¦æ­£å¸¸ï¼š
```bash
uv run tasks/monitor_task.py
```

### èƒŒæ™¯é•·é§åŸ·è¡Œ (æ¨è–¦)
ä½¿ç”¨å…§é™„è…³æœ¬åœ¨èƒŒæ™¯åŸ·è¡Œï¼Œé—œé–‰çµ‚ç«¯æ©Ÿä¹Ÿä¸æœƒä¸­æ–·ã€‚

**å•Ÿå‹•ï¼š**
```bash
./run_background.sh
```
å•Ÿå‹•å¾Œï¼Œlog æœƒè¼¸å‡ºåˆ° `scheduler.log`ã€‚

**åœæ­¢ï¼š**
```bash
./stop_background.sh
```

**æŸ¥çœ‹ Logï¼š**
```bash
tail -f scheduler.log
```

## è¼¸å‡ºçµæœ

- **`new_videos.txt`**: æœ€è¿‘ä¸€æ¬¡æª¢æŸ¥ç™¼ç¾çš„æ–°å½±ç‰‡åˆ—è¡¨ã€‚
- **`summary_<VIDEO_ID>.md`**: é‡å°æ¯æ”¯æ–°å½±ç‰‡ç”Ÿæˆçš„ AI é‡é»æ‘˜è¦ï¼ˆå¦‚æœè¨­å®šæ­£ç¢ºï¼‰ã€‚
- **`monitor_state.json`**: ç³»çµ±ç‹€æ…‹è¨˜éŒ„æª”ã€‚
